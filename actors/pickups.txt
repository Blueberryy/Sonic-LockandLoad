ACTOR Ring : CustomInventory replaces HealthBonus 1000
{
  Inventory.PickupMessage "Picked up a ring."
  Inventory.PickupSound "sonicdoom/ring"
  +COUNTITEM
  +INVENTORY.ALWAYSPICKUP
  States
  {
  Spawn:
    RIN1 A -1
    Stop
  Pickup:
    TNT1 A 5 A_GiveInventory("Health", 1)
	TNT1 A 0 
	{
	  if (CountInv("ShadowCheck") > 0)
	  {
	    A_GiveInventory("ChaosEnergyEX", 1);
	  }
	}
  }
}
ACTOR RingBox : CustomInventory replaces Stimpack 1001
{
  Inventory.PickupMessage "Picked up a box of rings."
  Inventory.PickupSound "sonicdoom/boxdestroy"
  +COUNTITEM
  +INVENTORY.ALWAYSPICKUP
  States
  {
  Spawn:
    RBOX A -1
    Stop
  Pickup:
    TNT1 A 5 A_GiveInventory("Health", 10)
	TNT1 A 0 
	{
	  if (CountInv("ShadowCheck") > 0)
	  {
	    A_GiveInventory("ChaosEnergyEX", 10);
	  }
	}
  }
}
ACTOR SpecialRing : CustomInventory replaces Medikit 1002
{
  Inventory.PickupMessage "Picked up a Special ring."
  Inventory.PickupSound "sonicdoom/specialring"
  +COUNTITEM
  +INVENTORY.ALWAYSPICKUP
  States
  {
  Spawn:
    RIN2 A -1
    Stop
  Pickup:
    TNT1 A 0 A_GiveInventory ("Health", 50)
	TNT1 A 0 
	{
	  if (CountInv("ShadowCheck") > 0)
	  {
	    A_GiveInventory("ChaosEnergyEX", 50);
	  }
	}
	TNT1 A 0 A_GiveInventory ("ChaosEnergy", 50)
  }
}
ACTOR ChaosRing : CustomInventory replaces ArmorBonus 3021
{
  Inventory.PickupMessage "Picked up a Chaos ring."
  Inventory.PickupSound "sonicdoom/ring"
  +COUNTITEM
  +INVENTORY.ALWAYSPICKUP
  States
  {
  Spawn:
    RIN3 A -1
    Stop
  Pickup:
	TNT1 A 0 A_GiveInventory("Health", 5)
	TNT1 A 0 
	{
	  if (CountInv("ShadowCheck") > 0)
	  {
	    A_GiveInventory("ChaosEnergyEX", 5);
	  }
	}
	TNT1 A 0 A_GiveInventory("ChaosEnergy", 1)
  }
}
ACTOR SoulRing : CustomInventory replaces BlueArmor 3022
{
  Inventory.PickupMessage "Picked up a Soul ring."
  Inventory.PickupSound "sonicdoom/ring"
  +COUNTITEM
  +INVENTORY.ALWAYSPICKUP
  States
  {
  Spawn:
    RIN4 A -1
    Stop
  Pickup:
	TNT1 A 0 A_GiveInventory("Soul")
	TNT1 A 0
	{
	  if (CountInv("SonicCheck")) 
	  {
	    if (CountInv("Soul") > 9)
		{
		  if (CountInv("SoulReady") < 1)
		  {
		    if (CountInv("Caliburn") > 0)
		    {
		      A_Log("\c[Gold]Sonic, Soul Surge is ready!");
			  A_GiveInventory("SoulReady");
		    }
		  }
		}
	  }
	}
	Stop
  }
}

ACTOR SoulRecharge : CustomInventory
{
  Inventory.PickupMessage "Picked up a Soul recharge!"
  Inventory.PickupSound "sonicdoom/specialring"
  States
  {
  Spawn:
    PSTR A -1
    Stop
  Pickup:
	TNT1 A 0 A_GiveInventory("Soul", 10)
    TNT1 A 0 A_SelectWeapon("Caliburn")
	TNT1 A 0
	{
	  if (CountInv("SonicCheck")) 
	  {
	    if (CountInv("Soul") > 9)
		{
		  if (CountInv("SoulReady") < 1)
		  {
		    if (CountInv("Caliburn") > 0)
		    {
		      A_Log("\c[Gold]Sonic, Soul Surge is ready!");
			  A_GiveInventory("SoulReady");
		    }
		  }
		}
	  }
	}
	Stop
  }
}
ACTOR EmeraldRecharge : CustomInventory
{
  Inventory.PickupMessage "Picked up an Emerald recharge!"
  Inventory.PickupSound "sonicdoom/specialring"
  States
  {
  Spawn:
    CPAK A -1
    Stop
  Pickup:
	TNT1 A 0 A_GiveInventory("ChaosEnergyEX", 500)
    TNT1 A 0 A_SelectWeapon("ChaosEmerald")
	Stop
  }
}
ACTOR InvincibilityBox : CustomInventory replaces InvulnerabilitySphere 10002
{
  Inventory.PickupMessage "Invincibility!"
  Inventory.PickupSound "sonicdoom/boxdestroy"
  +COUNTITEM
  States
  {
  Spawn:
    INVC A -1
    Stop
  Pickup:
	TNT1 A 0 A_GiveInventory("Invincibility", 1)
	TNT1 A 0 A_PlaySound("sonicdoom/invincibility", 6)
	Stop
  }
}
ACTOR ChaosEmeralds : CustomInventory replaces Soulsphere 1003
{
  Inventory.PickupMessage ""
  Inventory.PickupSound "sonicdoom/chaosemerald"
  +COUNTITEM
  States
  {
  Spawn:
    CHSM A -1
    Stop
  Pickup:
	TNT1 A 0 A_GiveInventory("Health", 999)
	TNT1 A 0 A_GiveInventory("ChaosEnergy", 9999)
	TNT1 A 0 A_GiveInventory("SuperForm", 1)
	TNT1 A 0 A_GiveInventory("Invincibility", 1)
	TNT1 A 0 A_PlaySound("sonicdoom/supersonic", 6)
	TNT1 A 0 A_PlaySound("sonicdoom/supertransform", 4)
	TNT1 A 0 
	{
	  if (CountInv("SonicCheck")) 
	  {
	    A_PlaySound("sonicdoom/supertheme", 5);
	    A_Log("\c[SonicBlue]Now I'll show you!!");
	  }
	  else if (CountInv("AmyCheck")) 
	  {
	    A_PlaySound("sonicdoom/supertheme2", 5);
	    A_Log("\c[AmyPink]I'll destroy all of you!!");
	  }
	  else if (CountInv("ShadowCheck")) 
	  {
	    A_PlaySound("sonicdoom/supertheme3", 5);
	    A_Log("\c[ShadowRedBlack]Witness the might of my power!!");
	  }
	}
	Stop
  }
}
ACTOR Invincibility : PowerupGiver
{
  +COUNTITEM
  +INVENTORY.AUTOACTIVATE
  +INVENTORY.ALWAYSPICKUP
  +INVENTORY.BIGPOWERUP
  Inventory.MaxAmount 1
  Powerup.Type "Invulnerable"
  Powerup.Duration -55
  Powerup.Color "FF FF FF", 0
  Inventory.PickupMessage "$GOTINVUL"
  Inventory.Icon "INVCA0"
  States
  {
  Spawn:
    PINV ABCD 6 Bright
    Loop
  }
}
ACTOR SuperForm : PowerupGiver
{
  +COUNTITEM
  +INVENTORY.AUTOACTIVATE
  +INVENTORY.ALWAYSPICKUP
  +INVENTORY.BIGPOWERUP
  Inventory.MaxAmount 1
  Powerup.Type "Super"
  Powerup.Color "F0 BC 18", 0.1
  Inventory.PickupMessage "$GOTINVUL"
  States
  {
  Spawn:
    PINV ABCD 6 Bright
    Loop
  }
}
ACTOR PowerSuper : Powerup 
{
  Powerup.Duration -51
  Inventory.Icon "CHSMA0"
} 

ACTOR HammerBlock : PowerupGiver
{
  Powerup.Color "00 CC FF" 0.1
  Inventory.MaxAmount 0
  Powerup.Type "Blocking"
  Powerup.Duration -30
  +INVENTORY.AUTOACTIVATE
}
ACTOR PowerBlocking : PowerProtection
{
  DamageFactor "Normal", 0.1
}

ACTOR ChaosCharge : CustomInventory replaces Clip 1231
{
  Inventory.PickupMessage "Picked up a Chaos charge."
  States
  {
  Spawn:
    APLS B -1
	Stop
  Pickup:
	TNT1 A 0 A_GiveInventory ("ChaosEnergy", 4)
	Stop
  }
}
ACTOR LargeChaosEnergy : CustomInventory replaces GreenArmor 1232
{
  Inventory.PickupMessage "Picked up a pack of Chaos Energy."
  States
  {
  Spawn:
    CELP A -1
    Stop
  Pickup:
	TNT1 A 0 A_GiveInventory ("ChaosEnergy", 100)
	Stop
  }
}
ACTOR LargeChaosEnergy2 : CustomInventory replaces Cell
{
  Inventory.PickupMessage "Picked up a pack of Chaos Energy."
  States
  {
  Spawn:
    CELP A -1
    Stop
  Pickup:
	TNT1 A 0 A_GiveInventory ("ChaosEnergy", 100)
	Stop
  }
}
ACTOR ChaosChargeX4 : CustomInventory replaces Shell 1233
{
  Inventory.PickupMessage "Picked up four Chaos charges."
  States
  {
  Spawn:
    SHEL A -1
    Stop
  Pickup:
	TNT1 A 0 A_GiveInventory ("ChaosEnergy", 16)
	Stop
  }
}
ACTOR ChaosChargeBox : CustomInventory replaces ClipBox 1234
{
  Inventory.PickupMessage "Picked up a box of Chaos charges."
  States
  {
  Spawn:
    AMMO A -1
    Stop
  Pickup:
	TNT1 A 0 A_GiveInventory ("ChaosEnergy", 80)
	Stop
  }
}
ACTOR LargeChaosChargeBox : CustomInventory replaces ShellBox 1235
{
  Inventory.PickupMessage "Picked up a large box of Chaos charges."
  States
  {
  Spawn:
    SBOX A -1
    Stop
  Pickup:
	TNT1 A 0 A_GiveInventory ("ChaosEnergy", 160)
	Stop
  }
}
ACTOR ChaosEnergyCapsule : CustomInventory replaces RocketAmmo 1236
{
  Inventory.PickupMessage "Picked up a Chaos Energy capsule."
  States
  {
  Spawn:
    ROCK A -1
    Stop
  Pickup:
	TNT1 A 0 A_GiveInventory ("ChaosEnergy", 200)
	Stop
  }
}
ACTOR ChaosEnergyCapsuleBox : CustomInventory replaces RocketBox 1237
{
  Inventory.PickupMessage "Picked up a box of Chaos Energy capsules."
  States
  {
  Spawn:
    BROK A -1
    Stop
  Pickup:
	TNT1 A 0 A_GiveInventory ("ChaosEnergy", 400)
	Stop
  }
}

ACTOR MacAndCheese : CustomInventory
{
  Inventory.PickupMessage "Picked up some mac and cheese."
  States
  {
  Spawn:
    FMAC A -1
    Stop
  Pickup:
    TNT1 A 0 A_Print("\c[ShadowRedBlack]I'm making mac and cheese,\n\c[ShadowRedBlack]and nobody can stop me!")
	TNT1 A 0 A_GiveInventory("Health", 100)
	TNT1 A 0 A_GiveInventory("ChaosEnergyEX", 100)
	Stop
  }
}
